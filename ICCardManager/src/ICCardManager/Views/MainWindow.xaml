<Window x:Class="ICCardManager.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:ICCardManager.ViewModels"
        xmlns:conv="clr-namespace:ICCardManager.Common"
        mc:Ignorable="d"
        d:DataContext="{d:DesignInstance Type=vm:MainViewModel}"
        Title="äº¤é€šç³»ICã‚«ãƒ¼ãƒ‰ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "
        Height="700"
        Width="1000"
        WindowStartupLocation="CenterScreen"
        AutomationProperties.Name="äº¤é€šç³»ICã‚«ãƒ¼ãƒ‰ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦"
        AutomationProperties.HelpText="è·å“¡è¨¼ã‚’ã‚¿ãƒƒãƒã—ã¦ã‹ã‚‰ICã‚«ãƒ¼ãƒ‰ã‚’ã‚¿ãƒƒãƒã™ã‚‹ã¨è²¸å‡ºã¾ãŸã¯è¿”å´ãŒã§ãã¾ã™">

    <Window.Resources>
        <conv:IntToVisibilityConverter x:Key="IntToVisibilityConverter"/>
        <conv:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <conv:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
    </Window.Resources>

    <Window.InputBindings>
        <!-- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ -->
        <KeyBinding Key="Escape" Command="{Binding CancelCommand}"/>
        <KeyBinding Key="F1" Command="{Binding OpenSettingsCommand}"/>
        <KeyBinding Key="F2" Command="{Binding OpenReportCommand}"/>
        <KeyBinding Key="F3" Command="{Binding OpenCardManageAsyncCommand}"/>
        <KeyBinding Key="F4" Command="{Binding OpenStaffManageCommand}"/>
        <KeyBinding Key="F5" Command="{Binding OpenDataExportImportCommand}"/>
        <KeyBinding Key="F6" Command="{Binding OpenOperationLogCommand}"/>
    </Window.InputBindings>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <Border Grid.Row="0" Background="#2196F3" Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="äº¤é€šç³»ICã‚«ãƒ¼ãƒ‰ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "
                           FontSize="{DynamicResource TitleFontSize}"
                           FontWeight="Bold"
                           Foreground="White"
                           VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock Text="{Binding CurrentDateTime}"
                               FontSize="{DynamicResource LargeFontSize}"
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,20,0"
                               AutomationProperties.Name="ç¾åœ¨æ—¥æ™‚"
                               AutomationProperties.LiveSetting="Polite"/>

                    <Button Content="è¨­å®š (F1)" Margin="5,0" Padding="10,5"
                            Command="{Binding OpenSettingsCommand}"
                            TabIndex="1"
                            AutomationProperties.Name="è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã"
                            AutomationProperties.HelpText="ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ã€‚ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: F1"
                            ToolTip="è¨­å®šã‚’é–‹ã (F1)"/>
                    <Button Content="å¸³ç¥¨ (F2)" Margin="5,0" Padding="10,5"
                            Command="{Binding OpenReportCommand}"
                            TabIndex="2"
                            AutomationProperties.Name="å¸³ç¥¨ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã"
                            AutomationProperties.HelpText="ç‰©å“å‡ºç´ç°¿ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: F2"
                            ToolTip="å¸³ç¥¨ã‚’é–‹ã (F2)"/>
                    <Button Content="ã‚«ãƒ¼ãƒ‰ç®¡ç† (F3)" Margin="5,0" Padding="10,5"
                            Command="{Binding OpenCardManageAsyncCommand}"
                            TabIndex="3"
                            AutomationProperties.Name="ã‚«ãƒ¼ãƒ‰ç®¡ç†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã"
                            AutomationProperties.HelpText="ICã‚«ãƒ¼ãƒ‰ã®ç™»éŒ²ãƒ»ç·¨é›†ã‚’è¡Œã„ã¾ã™ã€‚ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: F3"
                            ToolTip="ã‚«ãƒ¼ãƒ‰ç®¡ç†ã‚’é–‹ã (F3)"/>
                    <Button Content="è·å“¡ç®¡ç† (F4)" Margin="5,0" Padding="10,5"
                            Command="{Binding OpenStaffManageCommand}"
                            TabIndex="4"
                            AutomationProperties.Name="è·å“¡ç®¡ç†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã"
                            AutomationProperties.HelpText="è·å“¡ã®ç™»éŒ²ãƒ»ç·¨é›†ã‚’è¡Œã„ã¾ã™ã€‚ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: F4"
                            ToolTip="è·å“¡ç®¡ç†ã‚’é–‹ã (F4)"/>
                    <Button Content="ãƒ‡ãƒ¼ã‚¿å…¥å‡ºåŠ› (F5)" Margin="5,0" Padding="10,5"
                            Command="{Binding OpenDataExportImportCommand}"
                            TabIndex="5"
                            AutomationProperties.Name="ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã"
                            AutomationProperties.HelpText="ã‚«ãƒ¼ãƒ‰ãƒ»è·å“¡ãƒ»å±¥æ­´ã®CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’è¡Œã„ã¾ã™ã€‚ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: F5"
                            ToolTip="ãƒ‡ãƒ¼ã‚¿å…¥å‡ºåŠ›ã‚’é–‹ã (F5)"/>
                    <Button Content="æ“ä½œãƒ­ã‚° (F6)" Margin="5,0" Padding="10,5"
                            Command="{Binding OpenOperationLogCommand}"
                            TabIndex="6"
                            AutomationProperties.Name="æ“ä½œãƒ­ã‚°ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã"
                            AutomationProperties.HelpText="ã‚·ã‚¹ãƒ†ãƒ ã®æ“ä½œå±¥æ­´ã‚’æ¤œç´¢ãƒ»è¡¨ç¤ºã—ã¾ã™ã€‚ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ: F6"
                            ToolTip="æ“ä½œãƒ­ã‚°ã‚’é–‹ã (F6)"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>

            <!-- ä¸­å¤®ã‚¨ãƒªã‚¢ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼‰ -->
            <Border Grid.Column="0" Padding="40"
                    Background="{Binding StatusBackgroundColor}"
                    BorderThickness="3"
                    BorderBrush="{Binding StatusBorderColor}"
                    AutomationProperties.Name="æ“ä½œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚¨ãƒªã‚¢"
                    AutomationProperties.LiveSetting="Assertive">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <!-- çŠ¶æ…‹ã‚¢ã‚¤ã‚³ãƒ³ -->
                    <TextBlock Text="{Binding StatusIcon}"
                               FontSize="{DynamicResource IconFontSize}"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,20"
                               AutomationProperties.Name="{Binding StatusIconDescription}"/>

                    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
                    <TextBlock Text="{Binding StatusMessage}"
                               FontSize="{DynamicResource StatusFontSize}"
                               FontWeight="Bold"
                               TextAlignment="Center"
                               TextWrapping="Wrap"
                               HorizontalAlignment="Center"
                               AutomationProperties.LiveSetting="Assertive"/>

                    <!-- çŠ¶æ…‹ãƒ†ã‚­ã‚¹ãƒˆï¼ˆè‰²ä»¥å¤–ã§ã®çŠ¶æ…‹è¡¨ç¤ºï¼‰ -->
                    <TextBlock Text="{Binding StatusLabel}"
                               FontSize="{DynamicResource LargeFontSize}"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Margin="0,15,0,0"
                               Foreground="{Binding StatusForegroundColor}"/>

                    <!-- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¡¨ç¤º -->
                    <TextBlock FontSize="{DynamicResource LargeFontSize}"
                               Foreground="Gray"
                               Margin="0,20,0,0"
                               HorizontalAlignment="Center"
                               Visibility="{Binding RemainingSeconds, Converter={StaticResource IntToVisibilityConverter}}"
                               AutomationProperties.Name="æ®‹ã‚Šæ™‚é–“"
                               AutomationProperties.LiveSetting="Polite">
                        <Run Text="æ®‹ã‚Š "/>
                        <Run Text="{Binding RemainingSeconds}"/>
                        <Run Text=" ç§’"/>
                    </TextBlock>
                </StackPanel>
            </Border>

            <!-- å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆã‚«ãƒ¼ãƒ‰æ®‹é«˜ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰ -->
            <Border Grid.Column="1" Background="#F5F5F5" Padding="15">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="ðŸ’³ ã‚«ãƒ¼ãƒ‰æ®‹é«˜"
                                   FontSize="{DynamicResource BaseFontSize}"
                                   FontWeight="Bold"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding CardBalanceDashboard.Count, StringFormat=' ({0}æžš)'}"
                                   FontSize="{DynamicResource SmallFontSize}"
                                   Foreground="Gray"
                                   VerticalAlignment="Center"
                                   Margin="5,0,0,0"/>
                    </StackPanel>

                    <!-- ã‚½ãƒ¼ãƒˆé¸æŠž -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="ä¸¦ã³é †:"
                                   FontSize="{DynamicResource SmallFontSize}"
                                   VerticalAlignment="Center"
                                   Margin="0,0,5,0"/>
                        <ComboBox SelectedValue="{Binding DashboardSortOrder}"
                                  SelectedValuePath="Tag"
                                  FontSize="{DynamicResource SmallFontSize}"
                                  Width="130"
                                  AutomationProperties.Name="ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ä¸¦ã³é †"
                                  ToolTip="ã‚«ãƒ¼ãƒ‰ä¸€è¦§ã®ä¸¦ã³é †ã‚’å¤‰æ›´">
                            <ComboBoxItem Content="æ®‹é«˜ï¼ˆå°‘ãªã„é †ï¼‰" Tag="{x:Static vm:DashboardSortOrder.BalanceAscending}"/>
                            <ComboBoxItem Content="æ®‹é«˜ï¼ˆå¤šã„é †ï¼‰" Tag="{x:Static vm:DashboardSortOrder.BalanceDescending}"/>
                            <ComboBoxItem Content="ã‚«ãƒ¼ãƒ‰åé †" Tag="{x:Static vm:DashboardSortOrder.CardName}"/>
                            <ComboBoxItem Content="æœ€çµ‚åˆ©ç”¨æ—¥é †" Tag="{x:Static vm:DashboardSortOrder.LastUsageDate}"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- ã‚«ãƒ¼ãƒ‰æ®‹é«˜ä¸€è¦§ -->
                    <ListView Grid.Row="2"
                              ItemsSource="{Binding CardBalanceDashboard}"
                              SelectedItem="{Binding SelectedDashboardItem}"
                              BorderThickness="0"
                              Background="Transparent"
                              AutomationProperties.Name="ã‚«ãƒ¼ãƒ‰æ®‹é«˜ä¸€è¦§"
                              AutomationProperties.HelpText="ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å±¥æ­´ã‚’è¡¨ç¤ºã—ã¾ã™">
                        <ListView.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                <Setter Property="Padding" Value="0"/>
                                <Setter Property="Margin" Value="0,2"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListViewItem">
                                            <ContentPresenter/>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListView.ItemContainerStyle>
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Border CornerRadius="4"
                                        Padding="10,8"
                                        Cursor="Hand"
                                        Background="{Binding RowBackgroundColor}">
                                    <Border.InputBindings>
                                        <MouseBinding MouseAction="LeftClick"
                                                      Command="{Binding DataContext.OpenCardHistoryFromDashboardCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                                      CommandParameter="{Binding}"/>
                                    </Border.InputBindings>
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Background" Value="White"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsBalanceWarning}" Value="True">
                                                    <Setter Property="Background" Value="#FFEBEE"/>
                                                </DataTrigger>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="BorderBrush" Value="#2196F3"/>
                                                    <Setter Property="BorderThickness" Value="1"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- è­¦å‘Šã‚¢ã‚¤ã‚³ãƒ³ -->
                                        <TextBlock Grid.Column="0" Grid.RowSpan="2"
                                                   Text="{Binding WarningIcon}"
                                                   FontSize="{DynamicResource LargeFontSize}"
                                                   VerticalAlignment="Center"
                                                   Margin="0,0,8,0"
                                                   Foreground="#F44336"
                                                   ToolTip="æ®‹é«˜è­¦å‘Š"
                                                   Visibility="{Binding IsBalanceWarning, Converter={StaticResource BoolToVisibilityConverter}}"/>

                                        <!-- ã‚«ãƒ¼ãƒ‰å -->
                                        <TextBlock Grid.Column="1" Grid.Row="0"
                                                   FontWeight="Bold"
                                                   FontSize="{DynamicResource SmallFontSize}">
                                            <Run Text="{Binding CardType}"/>
                                            <Run Text=" "/>
                                            <Run Text="{Binding CardNumber}"/>
                                        </TextBlock>

                                        <!-- æ®‹é«˜ -->
                                        <TextBlock Grid.Column="2" Grid.Row="0"
                                                   Text="{Binding BalanceDisplay}"
                                                   FontWeight="Bold"
                                                   FontSize="{DynamicResource SmallFontSize}"
                                                   HorizontalAlignment="Right">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="#424242"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsBalanceWarning}" Value="True">
                                                            <Setter Property="Foreground" Value="#F44336"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>

                                        <!-- æœ€çµ‚åˆ©ç”¨æ—¥ + è²¸å‡ºçŠ¶æ…‹ -->
                                        <StackPanel Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="2"
                                                    Orientation="Horizontal">
                                            <TextBlock FontSize="10" Foreground="Gray">
                                                <Run Text="æœ€çµ‚: "/>
                                                <Run Text="{Binding LastUsageDateDisplay}"/>
                                            </TextBlock>
                                            <TextBlock FontSize="10" Margin="10,0,0,0">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground" Value="#4CAF50"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding IsLent}" Value="True">
                                                                <Setter Property="Foreground" Value="#FF9800"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                                <Run Text="{Binding LentStatusIcon}"/>
                                                <Run Text=" "/>
                                                <Run Text="{Binding LentInfoDisplay}"/>
                                            </TextBlock>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                    <!-- è­¦å‘Šã‚¨ãƒªã‚¢ -->
                    <TextBlock Grid.Row="3"
                               Text="âš  ã‚·ã‚¹ãƒ†ãƒ è­¦å‘Š"
                               FontSize="{DynamicResource BaseFontSize}"
                               FontWeight="Bold"
                               Margin="0,15,0,10"
                               Foreground="#F44336"
                               Visibility="{Binding WarningMessages.Count, Converter={StaticResource IntToVisibilityConverter}, Mode=OneWay}"/>

                    <ItemsControl Grid.Row="4"
                                  ItemsSource="{Binding WarningMessages}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#FFF3E0" CornerRadius="4"
                                        Margin="0,2" Padding="10,8">
                                    <TextBlock Text="{Binding}"
                                               TextWrapping="Wrap"
                                               FontSize="{DynamicResource SmallFontSize}"/>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Grid>
            </Border>
        </Grid>

        <!-- å‡¦ç†ä¸­ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
        <Border Grid.Row="1" Background="#80000000"
                Visibility="{Binding IsBusy, Converter={StaticResource BoolToVisibilityConverter}}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <ProgressBar IsIndeterminate="True" Width="200" Height="4"/>
                <TextBlock Text="{Binding BusyMessage}"
                           Foreground="White"
                           FontSize="{DynamicResource LargeFontSize}"
                           Margin="0,15,0,0"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- æ“ä½œãƒ’ãƒ³ãƒˆ + ãƒ‡ãƒãƒƒã‚°ãƒœã‚¿ãƒ³ -->
        <Border Grid.Row="2" Background="#E3F2FD" Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" FontSize="{DynamicResource SmallFontSize}" Foreground="#1565C0" VerticalAlignment="Center">
                    <Run Text="æ“ä½œ: "/>
                    <Run Text="è·å“¡è¨¼ã‚¿ãƒƒãƒ â†’ ICã‚«ãƒ¼ãƒ‰ã‚¿ãƒƒãƒ ã§è²¸å‡º/è¿”å´"/>
                    <Run Text=" | "/>
                    <Run Text="ICã‚«ãƒ¼ãƒ‰ã®ã¿ã‚¿ãƒƒãƒ ã§å±¥æ­´è¡¨ç¤º"/>
                    <Run Text=" | "/>
                    <Run Text="[Esc] ã‚­ãƒ£ãƒ³ã‚»ãƒ«"/>
                </TextBlock>

                <!-- ãƒ‡ãƒãƒƒã‚°ç”¨ãƒœã‚¿ãƒ³ (DEBUG ãƒ“ãƒ«ãƒ‰ã®ã¿è¡¨ç¤º) -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="20,0,0,0">
                    <TextBlock Text="[DEBUG]" FontSize="10" Foreground="Red" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <Button Content="è·å“¡è¨¼" Command="{Binding SimulateStaffCardCommand}" Padding="10,3" Margin="0,0,5,0"/>
                    <Button Content="ICã‚«ãƒ¼ãƒ‰" Command="{Binding SimulateIcCardCommand}" Padding="10,3"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ -->
        <StatusBar Grid.Row="3">
            <StatusBarItem>
                <TextBlock>
                    <Run Text="çŠ¶æ…‹: "/>
                    <Run Text="{Binding CurrentState}"/>
                </TextBlock>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock>
                    <Run Text="ç™»éŒ²ã‚«ãƒ¼ãƒ‰: "/>
                    <Run Text="{Binding CardBalanceDashboard.Count, Mode=OneWay}"/>
                    <Run Text=" æžš"/>
                </TextBlock>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock>
                    <Run Text="è²¸å‡ºä¸­: "/>
                    <Run Text="{Binding LentCards.Count, Mode=OneWay}"/>
                    <Run Text=" æžš"/>
                </TextBlock>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
