-- テストデータ追加スクリプト
-- 印刷プレビューのページネーション確認用（複数ページ分のデータ）
--
-- 使い方:
-- 1. アプリを一度起動してデータベースを初期化
-- 2. 以下のコマンドでSQLiteにアクセス:
--    sqlite3 "%APPDATA%\ICCardManager\iccard.db" < add_test_ledger_data.sql
-- 3. アプリを再起動して印刷プレビューを確認

-- まずテスト用のカードが存在するか確認し、なければ作成
INSERT OR IGNORE INTO ic_card (card_idm, card_type, card_number, note, is_deleted, is_lent)
VALUES ('0123456789ABCDEF', 'はやかけん', 'TEST-001', 'ページネーションテスト用', 0, 0);

-- テスト用の職員が存在するか確認し、なければ作成
INSERT OR IGNORE INTO staff (staff_idm, name, number, note, is_deleted)
VALUES ('STAFF001TESTIDM0', 'テスト職員', 'EMP001', 'テスト用', 0);

-- 既存のテストデータを削除（クリーンな状態から開始）
DELETE FROM ledger_detail WHERE ledger_id IN (
    SELECT id FROM ledger WHERE card_idm = '0123456789ABCDEF' AND summary LIKE '%テスト%'
);
DELETE FROM ledger WHERE card_idm = '0123456789ABCDEF' AND summary LIKE '%テスト%';

-- 2024年度のテストデータを追加（約50件 = 複数ページ分）
-- 各ページは約15-20行なので、50件あれば3ページ程度になる

-- 4月のデータ（10件）
INSERT INTO ledger (card_idm, lender_idm, date, summary, income, expense, balance, staff_name, note)
VALUES
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-01', '鉄道（博多駅～天神駅）テスト', 0, 260, 9740, 'テスト職員', '通勤'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-02', '鉄道（天神駅～博多駅）テスト', 0, 260, 9480, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-05', '鉄道（博多駅～福岡空港駅）テスト', 0, 260, 9220, 'テスト職員', '出張'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-08', 'チャージ テスト', 3000, 0, 12220, 'テスト職員', 'セブンイレブン'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-10', '鉄道（博多駅～薬院駅）テスト', 0, 210, 12010, 'テスト職員', '会議'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-12', '鉄道（薬院駅～天神駅）テスト', 0, 210, 11800, 'テスト職員', '移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-15', 'バス（★）テスト', 0, 190, 11610, 'テスト職員', '市内移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-18', '鉄道（天神駅～貝塚駅）テスト', 0, 340, 11270, 'テスト職員', '研修'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-22', '鉄道（貝塚駅～博多駅）テスト', 0, 340, 10930, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-04-25', 'バス（★）テスト', 0, 230, 10700, 'テスト職員', '外出');

-- 5月のデータ（10件）
INSERT INTO ledger (card_idm, lender_idm, date, summary, income, expense, balance, staff_name, note)
VALUES
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-01', '鉄道（博多駅～天神駅）テスト', 0, 260, 10440, 'テスト職員', '通勤'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-02', '鉄道（天神駅～博多駅）テスト', 0, 260, 10180, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-07', 'チャージ テスト', 5000, 0, 15180, 'テスト職員', 'ローソン'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-10', '鉄道（博多駅～姪浜駅）テスト', 0, 300, 14880, 'テスト職員', '出張'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-12', '鉄道（姪浜駅～天神駅）テスト', 0, 260, 14620, 'テスト職員', '移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-15', 'バス（★）テスト', 0, 190, 14430, 'テスト職員', '市内移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-20', '鉄道（天神駅～西新駅）テスト', 0, 210, 14220, 'テスト職員', '会議'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-22', '鉄道（西新駅～博多駅）テスト', 0, 260, 13960, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-25', 'バス（★）テスト', 0, 230, 13730, 'テスト職員', '外出'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-05-28', '鉄道（博多駅～天神駅）テスト', 0, 260, 13470, 'テスト職員', '通勤');

-- 6月のデータ（10件）
INSERT INTO ledger (card_idm, lender_idm, date, summary, income, expense, balance, staff_name, note)
VALUES
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-03', '鉄道（天神駅～博多駅）テスト', 0, 260, 13210, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-05', 'チャージ テスト', 2000, 0, 15210, 'テスト職員', 'ファミマ'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-08', '鉄道（博多駅～福岡空港駅）テスト', 0, 260, 14950, 'テスト職員', '出張'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-10', '鉄道（福岡空港駅～博多駅）テスト', 0, 260, 14690, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-12', 'バス（★）テスト', 0, 190, 14500, 'テスト職員', '市内移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-15', '鉄道（博多駅～薬院駅）テスト', 0, 210, 14290, 'テスト職員', '会議'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-18', '鉄道（薬院駅～天神駅 往復）テスト', 0, 420, 13870, 'テスト職員', '往復'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-22', 'バス（★）テスト', 0, 230, 13640, 'テスト職員', '外出'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-25', '鉄道（天神駅～西新駅）テスト', 0, 210, 13430, 'テスト職員', '移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-06-28', '鉄道（西新駅～博多駅）テスト', 0, 260, 13170, 'テスト職員', '帰宅');

-- 7月のデータ（10件）
INSERT INTO ledger (card_idm, lender_idm, date, summary, income, expense, balance, staff_name, note)
VALUES
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-01', '鉄道（博多駅～天神駅）テスト', 0, 260, 12910, 'テスト職員', '通勤'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-03', '鉄道（天神駅～博多駅）テスト', 0, 260, 12650, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-05', 'チャージ テスト', 10000, 0, 22650, 'テスト職員', '現金チャージ'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-08', '鉄道（博多駅～姪浜駅）テスト', 0, 300, 22350, 'テスト職員', '出張'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-10', '鉄道（姪浜駅～天神駅）テスト', 0, 260, 22090, 'テスト職員', '移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-12', 'バス（★）テスト', 0, 190, 21900, 'テスト職員', '市内移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-15', '鉄道（天神駅～貝塚駅）テスト', 0, 340, 21560, 'テスト職員', '研修'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-18', '鉄道（貝塚駅～博多駅）テスト', 0, 340, 21220, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-22', 'バス（★）テスト', 0, 230, 20990, 'テスト職員', '外出'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-07-25', '鉄道（博多駅～天神駅）テスト', 0, 260, 20730, 'テスト職員', '通勤');

-- 8月のデータ（10件）
INSERT INTO ledger (card_idm, lender_idm, date, summary, income, expense, balance, staff_name, note)
VALUES
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-01', '鉄道（天神駅～博多駅）テスト', 0, 260, 20470, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-05', 'チャージ テスト', 3000, 0, 23470, 'テスト職員', 'セブンイレブン'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-08', '鉄道（博多駅～福岡空港駅）テスト', 0, 260, 23210, 'テスト職員', '出張'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-10', '鉄道（福岡空港駅～博多駅）テスト', 0, 260, 22950, 'テスト職員', '帰宅'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-12', 'バス（★）テスト', 0, 190, 22760, 'テスト職員', '市内移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-15', '鉄道（博多駅～薬院駅）テスト', 0, 210, 22550, 'テスト職員', '会議'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-18', '鉄道（薬院駅～天神駅）テスト', 0, 210, 22340, 'テスト職員', '移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-22', 'バス（★）テスト', 0, 230, 22110, 'テスト職員', '外出'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-25', '鉄道（天神駅～西新駅）テスト', 0, 210, 21900, 'テスト職員', '移動'),
('0123456789ABCDEF', 'STAFF001TESTIDM0', '2024-08-28', '鉄道（西新駅～博多駅）テスト', 0, 260, 21640, 'テスト職員', '帰宅');

-- 確認クエリ
SELECT '追加されたレコード数: ' || COUNT(*) FROM ledger WHERE card_idm = '0123456789ABCDEF';
SELECT '対象カード: ' || card_type || ' ' || card_number FROM ic_card WHERE card_idm = '0123456789ABCDEF';
